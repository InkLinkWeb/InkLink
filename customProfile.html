<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Profile</title>
    <style>
      /* Animation for the welcome message */
      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
      .fade-out {
        animation: fadeOut 2s forwards;
      }
    </style>
  </head>
  <body class="bg-[#F2F2F2] min-h-screen flex items-center justify-center">
    <!-- Welcome Message -->
    <div id="welcome-container" class="max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center">
      <h1 id="welcome-message" class="text-2xl font-bold mb-4"></h1>
      <p class="text-gray-600">Redirecting to your profile...</p>
    </div>

    <!-- Profile Page -->
    <div id="profile-container" class="hidden max-w-4xl w-full bg-white rounded-lg shadow-lg p-8">
      <div class="flex items-center space-x-6">
        <img
          id="profile-picture"
          class="h-24 w-24 rounded-full object-cover border border-gray-300"
          src=""
          alt="Profile Picture"
        />
        <div>
          <h1 id="profile-name" class="text-3xl font-bold"></h1>
          <p class="text-gray-600">Welcome to your profile!</p>
        </div>
      </div>
      <div class="mt-6">
        <h2 class="text-xl font-semibold mb-2">About Me</h2>
        <p class="text-gray-700">This is your personal space. Add more details about yourself here!</p>
      </div>
    </div>

    <script>
      // Extract the user's name from the query parameters
      const params = new URLSearchParams(window.location.search);
      const name = params.get('name') || 'User';

      // Simulate fetching the user's profile picture (replace with actual logic)
      const profilePictureUrl = "/InkLink/img/default-profile.png"; // Replace with dynamic URL if available

      // Display the welcome message
      const welcomeMessage = document.getElementById("welcome-message");
      welcomeMessage.textContent = `Welcome, ${name}!`;

      // After 2 seconds, animate the welcome message away and show the profile page
      setTimeout(() => {
        document.getElementById("welcome-container").classList.add("fade-out");
        setTimeout(() => {
          document.getElementById("welcome-container").classList.add("hidden");
          const profileContainer = document.getElementById("profile-container");
          profileContainer.classList.remove("hidden");

          // Populate the profile page with the user's data
          document.getElementById("profile-name").textContent = name;
          document.getElementById("profile-picture").src = profilePictureUrl;
        }, 2000); // Match the animation duration
      }, 2000);
    </script>
  </body>
</html>